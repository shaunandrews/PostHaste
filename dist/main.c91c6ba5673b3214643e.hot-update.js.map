{"version":3,"file":"main.c91c6ba5673b3214643e.hot-update.js","mappings":"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","sources":["webpack://post-haste/./src/renderer/components/Editor/Canvas.jsx","webpack://post-haste/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Link from '@tiptap/extension-link';\nimport styles from './Editor.module.css';\n\nclass EditorErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('Editor Error:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <div className={styles.canvas}>Something went wrong with the editor.</div>;\n    }\n    return this.props.children;\n  }\n}\n\nexport function Canvas({ content, onChange }) {\n  const editor = useEditor({\n    extensions: [\n      StarterKit,\n      Link.configure({\n        HTMLAttributes: {\n          class: styles.link,\n          rel: 'noopener noreferrer nofollow',\n          target: '_blank'\n        },\n        protocols: ['http', 'https'],\n        autolink: false,\n        linkOnPaste: true,\n      })\n    ],\n    content: content || '',\n    onUpdate: ({ editor }) => {\n      onChange({ target: { value: editor.getHTML() } });\n    },\n    editorProps: {\n      attributes: {\n        class: styles.canvas,\n        'data-placeholder': \"What's on your mind?\"\n      }\n    }\n  });\n\n  useEffect(() => {\n    if (editor && typeof content === 'string' && content !== editor.getHTML()) {\n      editor.commands.setContent(content);\n    }\n  }, [content, editor]);\n\n  if (!editor) {\n    return <div className={styles.canvas}>Loading editor...</div>;\n  }\n\n  const setLink = () => {\n    const url = window.prompt('Enter URL:');\n    \n    // cancelled\n    if (url === null) {\n      return;\n    }\n\n    // empty\n    if (url === '') {\n      editor.chain().focus().unsetLink().run();\n      return;\n    }\n\n    // Add https:// if no protocol is specified\n    const validUrl = url.match(/^https?:\\/\\//) ? url : `https://${url}`;\n    editor.chain().focus().setLink({ href: validUrl }).run();\n  };\n\n  const removeLink = () => {\n    editor.chain().focus().unsetLink().run();\n  };\n\n  return (\n    <EditorErrorBoundary>\n      <div>\n        <div className={styles.toolbar}>\n          <button\n            onClick={setLink}\n            disabled={!editor.can().setLink()}\n            className={styles.toolbarButton}\n            title=\"Add or edit link (âŒ˜K)\"\n          >\n            Add Link\n          </button>\n          <button\n            onClick={removeLink}\n            disabled={!editor.isActive('link')}\n            className={styles.toolbarButton}\n            title=\"Remove link\"\n          >\n            Remove Link\n          </button>\n        </div>\n        <EditorContent editor={editor} />\n      </div>\n    </EditorErrorBoundary>\n  );\n} ","__webpack_require__.h = () => (\"a33ccebb4835416affcc\")"],"names":["React","useEffect","useEditor","EditorContent","StarterKit","Link","styles","EditorErrorBoundary","_React$Component","props","_this","_classCallCheck","_callSuper","state","hasError","_inherits","_createClass","key","value","componentDidCatch","error","errorInfo","console","render","createElement","className","canvas","children","getDerivedStateFromError","Component","Canvas","_ref","content","onChange","editor","extensions","configure","HTMLAttributes","link","rel","target","protocols","autolink","linkOnPaste","onUpdate","_ref2","getHTML","editorProps","attributes","commands","setContent","setLink","url","window","prompt","chain","focus","unsetLink","run","validUrl","match","concat","href","removeLink","toolbar","onClick","disabled","can","toolbarButton","title","isActive"],"sourceRoot":""}
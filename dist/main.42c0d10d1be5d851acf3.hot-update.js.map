{"version":3,"file":"main.42c0d10d1be5d851acf3.hot-update.js","mappings":"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","sources":["webpack://post-haste/./src/renderer/components/Editor/Canvas.jsx","webpack://post-haste/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Link from '@tiptap/extension-link';\nimport styles from './Editor.module.css';\n\nclass EditorErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('Editor Error:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <div className={styles.canvas}>Something went wrong with the editor.</div>;\n    }\n    return this.props.children;\n  }\n}\n\nexport function Canvas({ content, onChange }) {\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        history: true,\n      }),\n      Link.configure({\n        openOnClick: false,\n        HTMLAttributes: {\n          class: styles.link,\n          rel: 'noopener noreferrer nofollow',\n          target: '_blank'\n        },\n        validate: url => {\n          if (url) {\n            return /^https?:\\/\\//.test(url);\n          }\n          return false;\n        },\n      }),\n    ],\n    content: typeof content === 'string' ? content : '',\n    onUpdate: ({ editor }) => {\n      if (editor && onChange) {\n        onChange({ target: { value: editor.getHTML() } });\n      }\n    },\n    editorProps: {\n      attributes: {\n        class: styles.canvas,\n        'data-placeholder': \"What's on your mind?\"\n      }\n    }\n  });\n\n  useEffect(() => {\n    if (editor && typeof content === 'string' && content !== editor.getHTML()) {\n      editor.commands.setContent(content);\n    }\n  }, [content, editor]);\n\n  const setLink = () => {\n    try {\n      if (!editor) return;\n\n      const previousUrl = editor.getAttributes('link')?.href || '';\n      const url = window.prompt('Enter URL:', previousUrl);\n      \n      if (url === null) return; // cancelled\n      if (url === '') {\n        editor.chain().focus().unsetLink().run();\n        return;\n      }\n\n      // add https:// if no protocol is specified\n      const validUrl = url.match(/^https?:\\/\\//) ? url : `https://${url}`;\n      editor.chain().focus().setLink({ href: validUrl }).run();\n    } catch (error) {\n      console.error('Error setting link:', error);\n    }\n  };\n\n  const removeLink = () => {\n    try {\n      editor?.chain().focus().unsetLink().run();\n    } catch (error) {\n      console.error('Error removing link:', error);\n    }\n  };\n\n  if (!editor) {\n    return <div className={styles.canvas}>Loading editor...</div>;\n  }\n\n  return (\n    <EditorErrorBoundary>\n      <div>\n        <div className={styles.toolbar}>\n          <button\n            onClick={setLink}\n            disabled={!editor?.can().setLink()}\n            className={styles.toolbarButton}\n            title=\"Add or edit link (âŒ˜K)\"\n          >\n            Add Link\n          </button>\n          <button\n            onClick={removeLink}\n            disabled={!editor?.isActive('link')}\n            className={styles.toolbarButton}\n            title=\"Remove link\"\n          >\n            Remove Link\n          </button>\n        </div>\n        <EditorContent editor={editor} />\n      </div>\n    </EditorErrorBoundary>\n  );\n} ","__webpack_require__.h = () => (\"249ee897e8ccf16c2a63\")"],"names":["React","useEffect","useEditor","EditorContent","StarterKit","Link","styles","EditorErrorBoundary","_React$Component","props","_this","_classCallCheck","_callSuper","state","hasError","_inherits","_createClass","key","value","componentDidCatch","error","errorInfo","console","render","createElement","className","canvas","children","getDerivedStateFromError","Component","Canvas","_ref","content","onChange","editor","extensions","configure","history","openOnClick","HTMLAttributes","link","rel","target","validate","url","test","onUpdate","_ref2","getHTML","editorProps","attributes","commands","setContent","setLink","_editor$getAttributes","previousUrl","getAttributes","href","window","prompt","chain","focus","unsetLink","run","validUrl","match","concat","removeLink","toolbar","onClick","disabled","can","toolbarButton","title","isActive"],"sourceRoot":""}
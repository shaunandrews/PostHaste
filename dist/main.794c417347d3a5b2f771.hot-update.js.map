{"version":3,"file":"main.794c417347d3a5b2f771.hot-update.js","mappings":"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","sources":["webpack://post-haste/./src/renderer/components/Editor/TextEditor.jsx","webpack://post-haste/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport { Button } from '../Interface/Button';\nimport styles from './Editor.module.css';\n\n// Common image formats supported by WordPress\nconst ALLOWED_IMAGE_TYPES = \"image/jpeg,image/png,image/gif,image/webp\";\n\nexport function TextEditor({ content, onChange, onImageSelect }) {\n  const editorRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const charCount = content.length;\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    // Keep the editor content in sync with the content prop\n    if (editorRef.current && editorRef.current.textContent !== content) {\n      editorRef.current.textContent = content;\n    }\n  }, [content]);\n\n  const handleInput = (e) => {\n    const newContent = e.target.textContent;\n    onChange({ target: { value: newContent } });\n  };\n\n  const handlePaste = (e) => {\n    e.preventDefault();\n    const text = e.clipboardData.getData('text/plain');\n    document.execCommand('insertText', false, text);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      document.execCommand('insertLineBreak');\n    }\n  };\n\n  const handleImageClick = () => {\n    setError('');\n    fileInputRef.current?.click();\n  };\n\n  const handleImageSelect = (e) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      if (ALLOWED_IMAGE_TYPES.includes(file.type)) {\n        setSelectedImage(file);\n        setError('');\n        onImageSelect?.(file);\n      } else {\n        setError('Please select a JPG, PNG, GIF, or WebP image.');\n        setSelectedImage(null);\n        onImageSelect?.(null);\n      }\n    }\n  };\n\n  return (\n    <div className={styles.editor}>\n      <div\n        ref={editorRef}\n        className={styles.canvas}\n        contentEditable\n        onInput={handleInput}\n        onPaste={handlePaste}\n        onKeyDown={handleKeyDown}\n        role=\"textbox\"\n        aria-multiline=\"true\"\n        aria-label=\"Post content\"\n        data-placeholder=\"What's on your mind?\"\n      />\n\n      <div className={styles.tools}>\n        <div className={styles.site}>shaunandrews.com</div>\n        <div className={styles.imageUpload}>\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            onChange={handleImageSelect}\n            accept={ALLOWED_IMAGE_TYPES}\n            style={{ display: 'none' }}\n          />\n          <Button \n            variant=\"default\" \n            onClick={handleImageClick}\n            title=\"Supported formats: JPG, PNG, GIF, WebP\"\n          >\n            {selectedImage ? selectedImage.name : 'Select image'}\n          </Button>\n          {error && <div className={styles.error}>{error}</div>}\n        </div>\n        <div className={styles.count}>\n          {charCount} characters\n        </div>\n      </div>\n    </div>\n  );\n} ","__webpack_require__.h = () => (\"f8c18f22f27f563285e1\")"],"names":["React","useRef","useEffect","useState","Button","styles","ALLOWED_IMAGE_TYPES","TextEditor","_ref","content","onChange","onImageSelect","editorRef","fileInputRef","charCount","length","_useState","_useState2","_slicedToArray","selectedImage","setSelectedImage","_useState3","_useState4","error","setError","current","textContent","handleInput","e","newContent","target","value","handlePaste","preventDefault","text","clipboardData","getData","document","execCommand","handleKeyDown","key","shiftKey","handleImageClick","_fileInputRef$current","click","handleImageSelect","_e$target$files","file","files","includes","type","createElement","className","editor","ref","canvas","contentEditable","onInput","onPaste","onKeyDown","role","tools","site","imageUpload","accept","style","display","variant","onClick","title","name","count"],"sourceRoot":""}